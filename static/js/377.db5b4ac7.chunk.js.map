{"version":3,"file":"static/js/377.db5b4ac7.chunk.js","mappings":"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","sources":["webpack://test-task-tweet-cards/./src/components/TweetCard/TweetCard.module.css?b888","components/TweetCard/TweetCard.jsx","services/apiService.js","webpack://test-task-tweet-cards/./src/pages/Tweets/Tweets.module.css?3fe9","pages/Tweets/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"TweetCard_card__QzHVm\",\"cardAvatar\":\"TweetCard_cardAvatar__Xh2gV\",\"cardLine\":\"TweetCard_cardLine__2U-wa\",\"cardLogo\":\"TweetCard_cardLogo__kvFXr\",\"cardPicture\":\"TweetCard_cardPicture__HYV2M\",\"cardTweets\":\"TweetCard_cardTweets__igk2T\",\"cardFollowers\":\"TweetCard_cardFollowers__GWwn6\",\"cardButtonFollow\":\"TweetCard_cardButtonFollow__A5Re8\",\"cardButtonFollowing\":\"TweetCard_cardButtonFollowing__GBrVY\"};","import { useState } from 'react';\r\nimport css from './TweetCard.module.css';\r\nimport logo from '../../images/logo.svg';\r\nimport picture from '../../images/picture.svg';\r\n\r\nexport default function TweetCard({ card }) {\r\n  const following = JSON.parse(localStorage.getItem('following')) || [];\r\n\r\n  const [buttonText, setButtonText] = useState(\r\n    following.includes(card.id) ? 'Following' : 'Follow'\r\n  );\r\n  const [followers, setFollowers] = useState(\r\n    following.includes(card.id) ? card.followers + 1 : card.followers\r\n  );\r\n\r\n  const handleFollow = () => {\r\n    const allFollowing = JSON.parse(localStorage.getItem('following')) || [];\r\n    if (buttonText === 'Follow') {\r\n      setFollowers(followers + 1);\r\n      setButtonText('Following');\r\n      allFollowing.push(card.id);\r\n      window.localStorage.setItem('following', JSON.stringify(allFollowing));\r\n    }\r\n    if (buttonText === 'Following') {\r\n      setFollowers(followers - 1);\r\n      setButtonText('Follow');\r\n      const removedFollowing = allFollowing.filter((id) => id !== card.id);\r\n      window.localStorage.setItem('following', JSON.stringify(removedFollowing));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={css.card}>\r\n      <img\r\n        src={card.avatar}\r\n        alt={card.user}\r\n        width=\"80\"\r\n        height=\"80\"\r\n        className={css.cardAvatar}\r\n      ></img>\r\n      <div className={css.cardLine}></div>\r\n      <img src={logo} alt=\"logo GoIT\" className={css.cardLogo} />\r\n      <img src={picture} alt=\"backgroung_image\" className={css.cardPicture} />\r\n      <p className={css.cardTweets}>{Number(card.tweets).toLocaleString('en')} Tweets</p>\r\n      <p className={css.cardFollowers}>{Number(followers).toLocaleString('en')} Followers</p>\r\n      <button\r\n        type=\"button\"\r\n        onClick={handleFollow}\r\n        className={buttonText === 'Follow' ? css.cardButtonFollow : css.cardButtonFollowing}\r\n      >\r\n        {buttonText}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://64579cc11a4c152cf98605f9.mockapi.io/phonebook';\r\n\r\nexport default async function apiService() {\r\n  const response = await axios.get(`${BASE_URL}/users`);\r\n  return response.data;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetsMenu\":\"Tweets_tweetsMenu__kcdUt\",\"dropdown\":\"Tweets_dropdown__L2U0o\",\"cards\":\"Tweets_cards__iiP7G\",\"buttonBack\":\"Tweets_buttonBack__NnuCc\",\"buttonDropdown\":\"Tweets_buttonDropdown__0ubke\",\"buttonLoadmore\":\"Tweets_buttonLoadmore__VWzhe\",\"link\":\"Tweets_link__KqW3h\",\"active\":\"Tweets_active__fzgdo\",\"buttonSpan\":\"Tweets_buttonSpan__67YNL\",\"error\":\"Tweets_error__UCIaG\"};","import TweetCard from '../../components/TweetCard/TweetCard';\r\nimport { useEffect, useState } from 'react';\r\nimport apiService from '../../services/apiService';\r\nimport css from './Tweets.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { HiArrowLeft } from 'react-icons/hi';\r\n\r\nexport default function Tweets() {\r\n  const [users, setUsers] = useState([]);\r\n  const [visible, setVisible] = useState(3);\r\n  const [error, setError] = useState(null);  \r\n  const [visibilityUsers, setVisibilityUsers] = useState([]);\r\n\r\n  const showMoreItems = () => {\r\n    setVisible((prevValue) => prevValue + 3);\r\n  };\r\n\r\n  const showAll = () => {\r\n    setVisibilityUsers(users);\r\n  };\r\n\r\n  const showFollow = () => {\r\n    const following = JSON.parse(localStorage.getItem('following')) || [];\r\n    const idFollowing = (id) => following.includes(id);\r\n    setVisibilityUsers(users.filter((item) => !idFollowing(item.id)));    \r\n  };\r\n\r\n  const showFollowing = () => {\r\n    const following = JSON.parse(localStorage.getItem('following')) || [];\r\n    const idFollowing = (id) => following.includes(id);\r\n    setVisibilityUsers(users.filter((item) => idFollowing(item.id)));   \r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchUsers() {\r\n      try {\r\n        const data = await apiService();\r\n        setUsers(data);\r\n        setVisibilityUsers(data);\r\n      } catch (error) {\r\n        setError(error);\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={css.tweetsWrapper}>\r\n      {!error && (\r\n        <div className={css.tweetsMenu}>\r\n          <button className={css.buttonBack} type=\"button\">\r\n            <NavLink className={(navData) => (navData.isActive ? css.active : css.link)} to=\"/\">\r\n              <HiArrowLeft size=\"24\" />\r\n              <span className={css.buttonSpan}>Back</span>\r\n            </NavLink>\r\n          </button>\r\n          <ul className={css.dropdown}>\r\n            <button className={css.buttonDropdown} type=\"button\" autoFocus onClick={showAll}>\r\n              All\r\n            </button>\r\n            <button className={css.buttonDropdown} type=\"button\" onClick={showFollow}>\r\n              Follow\r\n            </button>\r\n            <button className={css.buttonDropdown} type=\"button\" onClick={showFollowing}>\r\n              Following\r\n            </button>\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <ul className={css.cards}>\r\n        {visibilityUsers?.slice(0, visible).map((card) => (\r\n          <li key={card.id}>\r\n            <TweetCard card={card} />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {visible < visibilityUsers.length && visibilityUsers.length > 0 && (\r\n        <button className={css.buttonLoadmore} type=\"button\" onClick={showMoreItems}>\r\n          Load more\r\n        </button>\r\n      )}\r\n      {error && (\r\n        <div className={css.error}>\r\n          <p>Ooops, something went wrong: {error.message}.</p>\r\n          <p>Please try again.</p>\r\n        </div>\r\n      )}      \r\n    </div>\r\n  );\r\n}\r\n"],"names":["TweetCard","_ref","card","following","JSON","parse","localStorage","getItem","_useState","useState","includes","id","_useState2","_slicedToArray","buttonText","setButtonText","_useState3","followers","_useState4","setFollowers","_jsxs","className","css","children","_jsx","src","avatar","alt","user","width","height","cardAvatar","cardLine","logo","cardLogo","picture","cardPicture","cardTweets","Number","tweets","toLocaleString","cardFollowers","type","onClick","allFollowing","push","window","setItem","stringify","removedFollowing","filter","cardButtonFollow","cardButtonFollowing","BASE_URL","apiService","_apiService","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","concat","sent","abrupt","data","stop","Tweets","users","setUsers","visible","setVisible","_useState5","_useState6","error","setError","_useState7","_useState8","visibilityUsers","setVisibilityUsers","useEffect","_fetchUsers","t0","console","log","fetchUsers","tweetsWrapper","tweetsMenu","buttonBack","NavLink","navData","isActive","active","link","to","HiArrowLeft","size","buttonSpan","dropdown","buttonDropdown","autoFocus","item","cards","slice","map","length","buttonLoadmore","prevValue","message"],"sourceRoot":""}